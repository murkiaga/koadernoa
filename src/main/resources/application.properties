spring.config.import=optional:file:./config/local.env.properties

spring.application.name=com.koadernoa

server.port=${SERVER_PORT:8091}
server.address=${SERVER_ADDRESS:0.0.0.0}

spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://localhost/koaderno_berria?serverTimezone=Europe/Madrid&useSSL=false&allowPublicKeyRetrieval=true}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:}

spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
spring.jpa.show-sql=${SPRING_JPA_SHOW_SQL:false}
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

server.error.include-message=always
server.error.include-exception=true
server.error.include-binding-errors=always
server.error.include-stacktrace=on_param

# Google OAuth2
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID:}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET:}
spring.security.oauth2.client.registration.google.scope=openid,profile,email

# LDAP
spring.ldap.urls=${SPRING_LDAP_URLS:}
spring.ldap.base=${SPRING_LDAP_BASE:}
spring.ldap.username=${SPRING_LDAP_USERNAME:}
spring.ldap.password=${SPRING_LDAP_PASSWORD:}

koadernoa.ldap.user-search-base=${KOADERNOA_LDAP_USER_SEARCH_BASE:OU=Irakasleak}
koadernoa.ldap.user-search-filter=${KOADERNOA_LDAP_USER_SEARCH_FILTER:(&(objectClass=user)(sAMAccountName={0}))}
koadernoa.ldap.user-search-subtree=${KOADERNOA_LDAP_USER_SEARCH_SUBTREE:true}

spring.servlet.multipart.max-file-size=8MB
spring.servlet.multipart.max-request-size=8MB

koadernoa.uploads.dir=${KOADERNOA_UPLOADS_DIR:uploads}
koadernoa.uploads.ikasleak-subdir=ikasleak
koadernoa.uploads.logo-subdir=logoa
