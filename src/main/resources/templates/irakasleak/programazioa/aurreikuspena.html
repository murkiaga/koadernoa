<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="eu">
<head>
  <meta charset="UTF-8">
  <title>Programazioa aurreikusi</title>
</head>
<body>

<div th:fragment="aurreikuspen-edukia">

  <!-- Programaziorik ez badago -->
  <div th:if="${programazioaHutsik}">
    <p style="color:#6b7280; font-size:0.9rem;">
      Koaderno honek ez dauka programaziorik (ebaluaziorik/UDrik).
    </p>
  </div>

  <!-- Programazioa badago -->
  <div th:if="${!programazioaHutsik}">
    <h4 style="margin-top:0;"
        th:text="${koadernoa != null ? koadernoa.izena : 'Koadernoa'}">
      Koadernoaren izena
    </h4>

    <p style="color:#6b7280; font-size:0.9rem;"
       th:text="${programazioa.izenburua}">
      Programazioaren izenburua
    </p>

    <!-- Ebaluaketak -->
    <ul style="list-style:none; padding-left:0; margin:0;">
      <li th:each="eb : ${programazioa.ebaluaketak}"
          style="margin-bottom:0.7rem; border-bottom:1px solid #e5e7eb; padding-bottom:0.5rem;">

        <div style="font-weight:600;"
             th:text="${eb.izena}">
          1. Ebaluaketa
        </div>

        <!-- Aukeran, data-mugak -->
        <div style="font-size:0.8rem; color:#6b7280;"
             th:if="${eb.hasieraData != null or eb.bukaeraData != null}">
          <span th:text="${eb.hasieraData}">2025-09-10</span>
          →
          <span th:text="${eb.bukaeraData}">2026-01-31</span>
        </div>

        <!-- UD zerrenda -->
        <ul style="list-style:none; padding-left:0.8rem; margin-top:0.3rem;">
          <li th:each="ud : ${eb.unitateak}"
              style="margin-bottom:0.3rem;">
            <div style="font-size:0.9rem;">
              <span th:text="|${ud.kodea} — ${ud.izenburua}|">UD1 — Izenburua</span>
              <span style="color:#6b7280; font-size:0.8rem;"
                    th:text="| (${ud.orduak}h)|">
                (0h)
              </span>
            </div>

            <!-- Azpijarduerak -->
            <ul style="list-style:disc; padding-left:1.5rem; margin:0.2rem 0 0.3rem 0;">
              <li th:each="jp : ${ud.azpiJarduerak}"
                  style="font-size:0.85rem;">
                <span th:text="${jp.izenburua}">Jarduera</span>
                <span style="color:#6b7280; font-size:0.8rem;"
                      th:text="| (${jp.orduak}h)|">
                  (0h)
                </span>
              </li>
            </ul>
          </li>
        </ul>

      </li>
    </ul>

  </div>

</div>

</body>
</html>
