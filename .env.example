# =========================
# KOADERNO BERRIA - .env
# =========================

HOST_HTTP_PORT=80
APP_PORT=8091
SERVER_ADDRESS=0.0.0.0

# --- DB (MySQL) ---
# Docker compose-ko MySQL service-aren izena "db" bada:
SPRING_DATASOURCE_URL=jdbc:mysql://db:3306/koaderno_berria?serverTimezone=Europe/Madrid&useSSL=false&allowPublicKeyRetrieval=true
SPRING_DATASOURCE_USERNAME=new_user
SPRING_DATASOURCE_PASSWORD=ALDATU

# MySQL containerra erabiliko baduzu (docker-compose.yml-n MYSQL_* erabiltzeko)
MYSQL_DATABASE=koaderno_berria
MYSQL_USER=new_user
MYSQL_PASSWORD=ALDATU
MYSQL_ROOT_PASSWORD=r00tPassahitzaALDATU!
TZ=Europe/Madrid

# --- JPA / Hibernate ---
SPRING_JPA_HIBERNATE_DDL_AUTO=update
SPRING_JPA_SHOW_SQL=true
SPRING_JPA_PROPERTIES_HIBERNATE_DIALECT=org.hibernate.dialect.MySQLDialect

# --- Google OAuth2 ---
# (Client ID ez da sekretua, baina sekretua bai)
GOOGLE_CLIENT_ID=874965355829-ALDATU.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-...ALDATU
SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_SCOPE=openid,profile,email

# --- LDAP (Active Directory) ---
SPRING_LDAP_URLS=ldap://10.22.75.252:389
SPRING_LDAP_BASE=DC=zornotzalh,DC=eus
SPRING_LDAP_USERNAME=CN=administrador,CN=Users,DC=zornotzalh,DC=eus
SPRING_LDAP_PASSWORD=ALDATU

KOADERNOA_LDAP_USER_SEARCH_BASE=OU=Irakasleak
KOADERNOA_LDAP_USER_SEARCH_FILTER=(&(objectClass=user)(sAMAccountName={0}))
KOADERNOA_LDAP_USER_SEARCH_SUBTREE=true

# --- Logging ---
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_COM_KOADERNOA=DEBUG
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_SECURITY=DEBUG
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_SECURITY_OAUTH2=DEBUG
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_SECURITY_LDAP=DEBUG
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_LDAP=DEBUG

# --- Uploads / multipart ---
SPRING_SERVLET_MULTIPART_MAX_FILE_SIZE=8MB
SPRING_SERVLET_MULTIPART_MAX_REQUEST_SIZE=8MB

# App-eko uploads direktorioa (docker-compose-n bolumen batera lotu ohi da)
KOADERNOA_UPLOADS_DIR=/data/uploads
KOADERNOA_UPLOADS_IKASLEAK_SUBDIR=ikasleak
KOADERNOA_UPLOADS_LOGO_SUBDIR=logoa
